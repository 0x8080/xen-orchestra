<div  ng-if="matrix.length >0">

<table style="border-spacing:2px;border-collapse:separate;margin-bottom:20px;width:100%">
              <tr>
                  <th></th>
                  <th ng-repeat="hour in hours" style="text-align:center">
                      {{hour}}
                  </th>
             </tr>
             <tr ng-repeat="(pos,day) in days" style="">
                <th style="border:none;">{{day}}</th>
                <td
                    ng-repeat="hour in hours" 
                     title="{{matrix[pos][hour].nb > 1 ? 'val: '+round(matrix[pos][hour].value) : 'avg: '+round(matrix[pos][hour].value)}}" 
                    style=" transition: background-color 300ms linear; width:38px;height:38px;padding:1px;background-color:{{matrix[pos][hour].color}};border-radius:4px">
                    
                 </td> 
               </tr>
          </table>
          <div class="legend">
              <div class="pull-left"  ng-repeat="interval in intervals" style="width:75px;">     
                  <div style="background-color:{{interval.color}};height:20px">   </div>         
                  <div  style="text-align:right;color:gray" > &gt;= {{interval.start}} </div>
              </div>
          </div>
          </div>