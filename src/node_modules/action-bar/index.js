import _ from 'messages'
import map from 'lodash/map'
import React from 'react'
import Icon from 'icon'
import Button, { ButtonGroup } from 'button'

const ActionBar = ({ actions, display = 'both' }) => (
  <ButtonGroup>
    {map(actions, ({label, icon, handler}, index) => (
      <Button action={handler} key={index}>
        {icon && (display === 'icon' || display === 'both') ? <Icon icon={icon} /> : []}
        {label && (display === 'text' || display === 'both') ? <span> {_(label)}</span> : []}
      </Button>
    ))}
  </ButtonGroup>
)
ActionBar.propTypes = {
  actions: React.PropTypes.arrayOf(
    React.PropTypes.shape({
      label: React.PropTypes.string,
      icon: React.PropTypes.string,
      handler: React.PropTypes.func.isRequired
    })
  ).isRequired,
  display: React.PropTypes.oneOf(['icon', 'text', 'both'])
}
export default ActionBar
